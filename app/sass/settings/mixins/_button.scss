/*
  Button

  This button can be used for regular buttons,
  buttons with icons and buttons with only icons.
*/
@mixin button(
  $max-width: initial,
  $padding-top: 0.7rem,
  $padding-left: 1.2rem,
  $padding-bottom: 0.7rem,
  $padding-right: 1.2rem,
  $width: fit-content,
  $line-height: var(--rnb--line-height--body),
  $font-size: var(--rnb--font-size--button),
  $font-weight: var(--rnb--font-weight--regular),
  $font-family: var(--rnb--font-family--body),
  $text-transform: none,
  $background-color: var(--color--transparent),
  $background-color--hover: var(--color--white),
  $border-color: var(--color--white),
  $border-color--hover: var(--color--white),
  $color: var(--rnb--color--text),
  $color--disabled: var(--rnb--color--disabled--text),
  $background-color--disabled: var(--rnb--color--disabled--background),
  $border-color--disabled: var(--rnb--color--disabled--text),
  $color--hover: var(--rnb--color--primary),
  $color--icon: $color,
  $color--icon-hover: $color--hover,
  $border: false,
  $border-hover: true,
  $border-radius: 2.5rem,
  $border-style: solid,
  $border-width: 1px,
  $icon-margin: 0.5em,
  $icon-width: 1.25em,
  $duration: var(--rnb--transition-duration),
  $easing: var(--rnb--transition-easing)
) {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: $width;
  max-width: $max-width;
  padding: $padding-top $padding-right $padding-bottom $padding-left;
  margin-bottom: 0;
  overflow: hidden;
  font-family: $font-family;
  font-size: $font-size;
  font-weight: $font-weight;
  line-height: $line-height;
  color: $color;
  text-decoration: none;
  text-transform: $text-transform;
  white-space: nowrap;
  appearance: none;
  cursor: pointer;
  background-color: $background-color;
  border-color: $border-color;
  border-style: $border-style;
  border-width: $border-width;
  border-radius: $border-radius;
  transition:
    color $duration $easing,
    border-color $duration $easing;

  &::before {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 0;
    width: 100%;
    height: 100%;
    content: "";
    background-color: $background-color--hover;
    border-radius: 0;
    transition: transform $duration $easing;
    transform: translateX(-100%);
  }

  &:hover::before {
    transform: translateX(0);
  }

  &:hover {
    color: white;
    border-color: $border-color--hover;
  }

  &::after {
    position: absolute;
    top: 0;
    left: 0;
    z-index: -1;
    display: block;
    width: 100%;
    content: "";
    background-color: $background-color--hover;
    transition: transform 350ms 360ms ease;
    transform: translateX(100%);
  }

  &:hover::after {
    transform: translateX(0);
  }

  span {
    position: relative;
    z-index: 5;
    display: inline-flex;
    gap: $icon-margin;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    transition: color 350ms ease;
  }

  &:hover span {
    color: $color--hover;
  }

  &[disabled] {
    color: $color--disabled;
    cursor: not-allowed;
    background-color: $background-color--disabled;
    border-color: $background-color--disabled;

    svg {
      fill: $color--disabled;
    }
  }

  &:focus-visible:not([disabled]) {
    outline: none;

    &::after {
      position: absolute;
      inset: -4px;
      z-index: 2;
      pointer-events: none;
      content: "";
      border: 4px solid var(--color--white);
      border-radius: 1%;
    }
  }
}
