/*
  Button

  This button can be used for regular buttons,
  buttons with icons and buttons with only icons.
*/
@mixin button( // Scaling.
  $max-width: initial,
  $padding-top: 0.7rem,
  $padding-left: 1.2rem,
  $padding-bottom: 0.7rem,
  $padding-right: 1.2rem,
  $width: fit-content,

  // Typography.
  $line-height: var(--rnb--line-height--body),
  $font-size: var(--rnb--font-size--button),
  $font-weight: var(--rnb--font-weight--regular),
  $font-family: var(--rnb--font-family--body),
  $text-transform: none,

  // Coloring.
  $background-color: var(--color--transparent),
  $background-color--hover: var(--color--white),
  $border-color: var(--color--white),
  $border-color--hover: var(--color--white),
  $color: var(--rnb--color--text),
  $color--disabled: var(--rnb--color--disabled--text),
  $background-color--disabled: var(--rnb--color--disabled--background),
  $border-color--disabled: var(--rnb--color--disabled--text),
  $color--hover: var(--rnb--color--primary),
  $color--icon: $color,
  $color--icon-hover: $color--hover,

  // Border.
  $border: false,
  $border-hover: true,
  $border-radius: 2.5rem,
  $border-style: solid,
  $border-width: 1px,

  // Icon.
  $icon-margin: 0.25em,
  $icon-width: 1.25em,

  // Animation.
  $duration: var(--rnb--transition-duration),
  $easing: var(--rnb--transition-easing),
) {
  position: relative;
  box-sizing: border-box;
  display: inline-flex;
  column-gap: $icon-margin;
  align-items: center;
  justify-content: center;
  width: $width;
  max-width: $max-width;
  padding: $padding-top $padding-right $padding-bottom $padding-left;
  margin-bottom: 0;
  overflow: hidden;
  font-family: $font-family;
  font-size: $font-size;
  font-weight: $font-weight;
  line-height: $line-height;
  color: $color;
  text-decoration: none;
  text-transform: $text-transform;
  white-space: nowrap;
  appearance: none;
  cursor: pointer;
  background-color: $background-color;
  border-color: $border-color;
  border-style: $border-style;
  border-width: $border-width;
  border-radius: $border-radius;
  transition: color $duration $easing;

  // Hover background animation
  &::before {
    position: absolute;
    top: 0;
    left: 0;
    z-index: 0;
    width: 0;
    height: 100%;
    content: '';
    background-color: $background-color--hover;
    border-color: $border-color--hover;
    transition: width $duration $easing;
  }

  &:hover::before {
    width: 100%;
  }

  // Content wrapper to keep text and icons above the animated background
  .button-content {
    position: relative;
    z-index: 1;
    display: flex;
    gap: $icon-margin;
    align-items: center;
  }

  // Icon styles
  i {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: $icon-width;
    height: $icon-width;
  }

  svg {
    width: $icon-width;
    height: $icon-width;
    fill: $color--icon;
    transition: fill $duration $easing;
  }

  // Disabled state
  &[disabled] {
    color: $color--disabled;
    cursor: not-allowed;
    background-color: $background-color--disabled;
    border-color: $background-color--disabled;

    svg {
      fill: $color--disabled;
    }
  }

  // Hover and active states
  &:hover:not([disabled]),
  &:active:not([disabled]) {
    color: $color--hover;
    border-color: $border-color--hover;

    svg {
      fill: $color--icon-hover;
    }
  }

  &:focus-visible:not([disabled]) {
    overflow: auto;
    outline: none;

    &::after {
      position: absolute;
      inset: -0.875rem;
      pointer-events: none;
      content: '';
      border: 4px solid var(--color--white);
      border-radius: 1%;
    }
  }
}
